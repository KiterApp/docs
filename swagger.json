{"openapi":"3.0.0","paths":{"/v0/tasks":{"get":{"operationId":"TasksController_getTasks","summary":"Get All Tasks","description":"Retrieves a list of the high-level metadata for all tasks.","parameters":[],"responses":{"200":{"description":"Successfully retrieved all tasks","content":{"application/json":{"schema":{"type":"object","properties":{"tasks":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"created_at":{"type":"string"},"last_updated":{"type":"string"},"live_version":{"type":"number "},"max_version":{"type":"number"},"inputs":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"string","enum":["text","link"]},"description":{"type":"string"}}}},"outputs":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"string","enum":["text","link"]},"description":{"type":"string"}}}}}}}}}}}},"404":{"description":"No tasks found"},"500":{"description":"Internal server error"}},"tags":["Tasks"]}},"/v0/tasks/{id}":{"get":{"operationId":"TasksController_getTaskFromId","summary":"Get Task","description":"Retrieves detailed metadata for the task with provided id (inputs, outputs, etc.).","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully retrieved task from id","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"created_at":{"type":"string"},"last_updated":{"type":"string"},"live_version":{"type":"number "},"max_version":{"type":"number"},"inputs":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"string","enum":["text","link"]},"description":{"type":"string"}}}},"outputs":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"string","enum":["text","link"]},"description":{"type":"string"}}}},"run_count":{"type":"number"}}}}}},"403":{"description":"Forbidden - User does not have permission to access task"},"404":{"description":"No task found with provided id"},"500":{"description":"Internal server error"}},"tags":["Tasks"]}},"/v0/batches":{"get":{"operationId":"BatchesController_getBatches","summary":"Get All Batches","description":"Retrieves a list of the high-level metadata for all batches (paginated).","parameters":[],"responses":{"200":{"description":"Successfully retrieved batches","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}},"tags":["Batches"]},"post":{"operationId":"BatchesController_batchLaunch","summary":"Create Batch","description":"Uploads a JSONL file and launches a new batch with the provided data. Returns the batch id.","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/BatchLaunchEndpointDataDto"}}}},"responses":{"201":{"description":"Batch successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}},"tags":["Batches"]}},"/v0/batches/validate-data":{"post":{"operationId":"BatchesController_validateBatchData","summary":"Validate Batch Data","description":"Uploads a JSONL file and validates the data for a new batch with the provided data. Returns the batch id.","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/BatchValidateJobDataDto"}}}},"responses":{"200":{"description":"Batch data successfully validated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}},"tags":["Batches"]}},"/v0/batches/{id}":{"get":{"operationId":"BatchesController_getBatchFromId","summary":"Get Batch","description":"Retrieves detailed metadata for the batch with provided id. This includes the batch status, job count, and other metadata.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully retrieved batch from id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}},"tags":["Batches"]}},"/v0/batches/{id}/results":{"get":{"operationId":"BatchesController_getBatchResults","summary":"Get Results","description":"Get batch execution results once a batch reaches COMPLETED status. Receive the raw output or data to download depending on flag selection.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"output_type":{"type":"string","enum":["raw","stream"],"default":"raw","description":"Output type to retrieve from batch results. Defualt is raw json objects, but for larger datasets streaming is recommended."}}}}}},"responses":{"200":{"description":"Successfully retrieved batch results","content":{"application/json":{"schema":{"oneOf":[{"$ref":"#/components/schemas/RawBatchResultDto"},{"$ref":"#/components/schemas/StreamBatchResultDto"}]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}},"tags":["Batches"]}}},"info":{"title":"PromptLoop API","description":"The PromptLoop API description goes here...","version":"0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"ErrorDetailsDto":{"type":"object","properties":{"code":{"type":"number"},"details":{"type":"string"}},"required":["code","details"]},"ResponseDto":{"type":"object","properties":{"status":{"type":"string","enum":["success","error"]},"data":{"type":"object"},"message":{"type":"string"},"error":{"$ref":"#/components/schemas/ErrorDetailsDto"}},"required":["status","data","message"]},"BatchLaunchEndpointDataDto":{"type":"object","properties":{"batch_input_data":{"type":"string","format":"binary","description":"A JSONL file containing objects with the format: { \"data_uuid\": string, \"autoloop_input_array\": array }","example":[{"data_uuid":"string","autoloop_input_array":["string"]}]},"task_id":{"type":"string"},"task_version":{"type":"number"},"batch_name":{"type":"string"}},"required":["batch_input_data","task_id","task_version"]},"BatchValidateJobDataDto":{"type":"object","properties":{"batch_input_data":{"type":"string","format":"binary","description":"A JSONL file containing objects to validate with the format: { \"data_uuid\": string, \"autoloop_input_array\": array }","example":[{"data_uuid":"string","autoloop_input_array":["string"]}]}},"required":["batch_input_data"]}}}}